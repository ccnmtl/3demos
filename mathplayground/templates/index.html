{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta id="csrf-token" name="csrf-token" content="{{csrf_token}}" />

    <title>3Demos</title>

    <link
      rel="icon"
      type="image/png"
      href="{% static 'mathplayground/favicon.svg' %}"
    />

    {% include "ctlsettings/sentry_js.html" %}

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous"
    />
    <!-- <script
      src="https://code.jquery.com/jquery-3.6.4.slim.min.js"
      integrity="sha256-a2yjHM4jnF9f54xUQakjZGaqYs/V1CYvWpoqZzC2/Bw="
      crossorigin="anonymous"
    ></script> -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
      crossorigin="anonymous"
    ></script>

    <link rel="stylesheet" href="{% static 'mathplayground/global.css' %}" />
    <link
      rel="stylesheet"
      href="{% static 'mathplayground/build/bundle.css' %}"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
    />

    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

    <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?version=4.8.0&features=es6"></script>

    <script>
      window.STATIC_PREFIX = '{% static 'mathplayground' %}';
      {% if request.session %}
      window.SESSION_KEY = '{{ request.session.session_key }}';
      {% endif %}

      {% if scene_state %}
      // Initial scene state loaded from Redis
      window.SCENE_STATE = {{scene_state|safe}};
      {% endif %}
    </script>

    <script defer src="{% static 'mathplayground/build/bundle.js' %}"></script>
    {% if GA_CODE %}
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id={{GA_CODE}}"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "{{GA_CODE}}", { anonymize_ip: true });
    </script>
    {% endif %}
  </head>
  <body></body>
</html>
